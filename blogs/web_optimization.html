<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webæ€§èƒ½ä¼˜åŒ– | Nicolas</title>
    <meta name="description" content="Winter is coming...">
    <link rel="icon" href="/nicolas_blog/logo.jpg">
  <link rel="manifest" href="/nicolas_blog/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/nicolas_blog/assets/css/0.styles.702c3d49.css" as="style"><link rel="preload" href="/nicolas_blog/assets/js/app.8757db7b.js" as="script"><link rel="preload" href="/nicolas_blog/assets/js/21.d6e364bc.js" as="script"><link rel="preload" href="/nicolas_blog/assets/js/3.beca16df.js" as="script"><link rel="prefetch" href="/nicolas_blog/assets/js/10.12fec6a4.js"><link rel="prefetch" href="/nicolas_blog/assets/js/2.46a28983.js"><link rel="prefetch" href="/nicolas_blog/assets/js/4.1718758b.js"><link rel="prefetch" href="/nicolas_blog/assets/js/5.eac66c5d.js"><link rel="prefetch" href="/nicolas_blog/assets/js/6.af070ff6.js"><link rel="prefetch" href="/nicolas_blog/assets/js/7.d05c8e52.js"><link rel="prefetch" href="/nicolas_blog/assets/js/8.40f75c88.js"><link rel="prefetch" href="/nicolas_blog/assets/js/9.6edef93c.js"><link rel="prefetch" href="/nicolas_blog/assets/js/11.b0b60609.js"><link rel="prefetch" href="/nicolas_blog/assets/js/12.56bcea60.js"><link rel="prefetch" href="/nicolas_blog/assets/js/13.dbc3f0c5.js"><link rel="prefetch" href="/nicolas_blog/assets/js/14.4268a1c1.js"><link rel="prefetch" href="/nicolas_blog/assets/js/15.a82b5d46.js"><link rel="prefetch" href="/nicolas_blog/assets/js/16.6845d2c0.js"><link rel="prefetch" href="/nicolas_blog/assets/js/17.280974b2.js"><link rel="prefetch" href="/nicolas_blog/assets/js/18.3efbe42a.js"><link rel="prefetch" href="/nicolas_blog/assets/js/19.b2cfa31b.js"><link rel="prefetch" href="/nicolas_blog/assets/js/20.6150cfce.js"><link rel="prefetch" href="/nicolas_blog/assets/js/22.8b69b201.js"><link rel="prefetch" href="/nicolas_blog/assets/js/23.3b3e70eb.js"><link rel="prefetch" href="/nicolas_blog/assets/js/24.ae14d3b9.js"><link rel="prefetch" href="/nicolas_blog/assets/js/25.8bd460fb.js"><link rel="prefetch" href="/nicolas_blog/assets/js/26.6431c747.js"><link rel="prefetch" href="/nicolas_blog/assets/js/27.28609ca5.js"><link rel="prefetch" href="/nicolas_blog/assets/js/28.069623ca.js"><link rel="prefetch" href="/nicolas_blog/assets/js/29.a95ca43d.js"><link rel="prefetch" href="/nicolas_blog/assets/js/30.1c0e0d8c.js">
    <link rel="stylesheet" href="/nicolas_blog/assets/css/0.styles.702c3d49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nicolas_blog/" class="home-link router-link-active"><!----> <span class="site-name">Nicolas</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nicolas_blog/docs/" class="nav-link">My Cheatsheets</a></div><div class="nav-item"><a href="/nicolas_blog/blogs/" class="nav-link router-link-active">My Blog</a></div><div class="nav-item"><a href="/nicolas_blog/about/" class="nav-link">About Me</a></div> <a href="https://github.com/webkws" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nicolas_blog/docs/" class="nav-link">My Cheatsheets</a></div><div class="nav-item"><a href="/nicolas_blog/blogs/" class="nav-link router-link-active">My Blog</a></div><div class="nav-item"><a href="/nicolas_blog/about/" class="nav-link">About Me</a></div> <a href="https://github.com/webkws" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>My Blog</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/nicolas_blog/blogs/" class="sidebar-link">Vue Pluginå®æˆ˜</a></li><li><a href="/nicolas_blog/blogs/web_optimization.html" class="active sidebar-link">Webæ€§èƒ½ä¼˜åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#èµ„æºçš„åˆå¹¶ä¸å‹ç¼©" class="sidebar-link">èµ„æºçš„åˆå¹¶ä¸å‹ç¼©</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#å›¾ç‰‡ç›¸å…³çš„ä¼˜åŒ–" class="sidebar-link">å›¾ç‰‡ç›¸å…³çš„ä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#cssã€jsçš„åŠ è½½ä¸æ‰§è¡Œ" class="sidebar-link">cssã€jsçš„åŠ è½½ä¸æ‰§è¡Œ</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#é‡ç»˜ä¸å›æµ" class="sidebar-link">é‡ç»˜ä¸å›æµ</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#æµè§ˆå™¨å­˜å‚¨" class="sidebar-link">æµè§ˆå™¨å­˜å‚¨</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#service-worker" class="sidebar-link">service worker</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#ç¼“å­˜" class="sidebar-link">ç¼“å­˜</a></li><li class="sidebar-sub-header"><a href="/nicolas_blog/blogs/web_optimization.html#ssr" class="sidebar-link">SSR</a></li></ul></li><li><a href="/nicolas_blog/blogs/issues.html" class="sidebar-link">é‡åˆ°è¿‡çš„Issue</a></li><li><a href="/nicolas_blog/blogs/curry_functions.html" class="sidebar-link">å‡½æ•°æŸ¯é‡ŒåŒ–(Curry in JS)</a></li><li><a href="/nicolas_blog/blogs/safe_access.html" class="sidebar-link">å‰ç«¯ä¸­çš„Robust</a></li><li><a href="/nicolas_blog/blogs/canvas.html" class="sidebar-link">Canvaså­¦ä¹ ç¬”è®°</a></li><li><a href="/nicolas_blog/blogs/js_optimization.html" class="sidebar-link">jsä¼˜åŒ–(åªè°ˆå†™æ³•)</a></li><li><a href="/nicolas_blog/blogs/data_structures.html" class="sidebar-link">æ•°æ®ç»“æ„å’Œç®—æ³•</a></li><li><a href="/nicolas_blog/blogs/mobile_unit.html" class="sidebar-link">Mobileä¸­çš„å•ä½é—®é¢˜</a></li><li><a href="/nicolas_blog/blogs/sentry.html" class="sidebar-link">Sentryå‰ç«¯éƒ¨ç½²æ‰©å±•</a></li><li><a href="/nicolas_blog/blogs/oocss.html" class="sidebar-link">Object-Oriented CSS</a></li><li><a href="/nicolas_blog/blogs/vue_inject.html" class="sidebar-link">Vueä¸­çš„å¥‡æ·«æŠ€å·§</a></li><li><a href="/nicolas_blog/blogs/es6_tips.html" class="sidebar-link">ES6/ES7 Best Practice</a></li><li><a href="/nicolas_blog/blogs/sass.html" class="sidebar-link">åªä¼šåµŒå¥—ä¸æ•¢è¯´è‡ªå·±ä¼šSASS</a></li><li><a href="/nicolas_blog/blogs/vue_watch.html" class="sidebar-link">å¦‚ä½•åœ¨vueä¸­removeä¸€ä¸ªwatcher</a></li><li><a href="/nicolas_blog/blogs/webpack.html" class="sidebar-link">ç”± CommonsChunk åˆ° SplitChunk</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="webæ€§èƒ½ä¼˜åŒ–"><a href="#webæ€§èƒ½ä¼˜åŒ–" aria-hidden="true" class="header-anchor">#</a> Webæ€§èƒ½ä¼˜åŒ–</h1> <h2 id="èµ„æºçš„åˆå¹¶ä¸å‹ç¼©"><a href="#èµ„æºçš„åˆå¹¶ä¸å‹ç¼©" aria-hidden="true" class="header-anchor">#</a> èµ„æºçš„åˆå¹¶ä¸å‹ç¼©</h2> <p>å…ˆçœ‹ä¸‹httpè¯·æ±‚è¿‡ç¨‹
<img src="/nicolas_blog/assets/img/http_request.c5c47477.png" alt="An image"> <code>html</code>å‹ç¼©ï¼Œ<code>css</code>å‹ç¼©ï¼Œ<code>js</code>çš„å‹ç¼©å’Œåˆå¹¶(ä¸ä»…ç¼©å‡ï¼Œè¿˜ä¼šä»£ç ä¿æŠ¤)ï¼Œå¼€å¯gzipä¸å¤šè¯´ï¼Œ<code>webpack</code>è§£å†³ï¼Œè¯´ä¸‹æ³¨æ„äº‹é¡¹ï¼Œ<code>ä¸šåŠ¡ä»£ç è¦å’Œå…¬å…±ä»£ç åˆ†å¼€åˆå¹¶</code>ï¼Œä¸ç„¶å¼€å‘æ—¶ï¼Œå‘å¸ƒçš„å‹ç¼©åçš„ä»£ç ï¼Œç”¨æˆ·è¿˜è¦é‡æ–°ç¼“å­˜ä¸€éã€‚è¯¦æƒ…è§è¿™ç¯‡<a href="https://webkws.github.io/nicolas_blog/blogs/webpack.html" target="_blank" rel="noopener noreferrer">blogğŸš€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="å›¾ç‰‡ç›¸å…³çš„ä¼˜åŒ–"><a href="#å›¾ç‰‡ç›¸å…³çš„ä¼˜åŒ–" aria-hidden="true" class="header-anchor">#</a> å›¾ç‰‡ç›¸å…³çš„ä¼˜åŒ–</h2> <h4 id="png8-png24-png32ä¹‹é—´çš„åŒºåˆ«"><a href="#png8-png24-png32ä¹‹é—´çš„åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> <code>png8/png24/png32</code>ä¹‹é—´çš„åŒºåˆ«</h4> <ul><li>png8 â€”â€” 256è‰² + æ”¯æŒé€æ˜</li> <li>png24 â€”â€” 2^24è‰² + ä¸æ”¯æŒé€æ˜</li> <li>png32 â€”â€” 2^24è‰² + æ”¯æŒé€æ˜</li></ul> <h4 id="é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä¸åŒçš„æ ¼å¼"><a href="#é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä¸åŒçš„æ ¼å¼" aria-hidden="true" class="header-anchor">#</a> é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä¸åŒçš„æ ¼å¼</h4> <ul><li>jpgæœ‰æŸå‹ç¼©ï¼Œå‹ç¼©ç‡é«˜ï¼Œä¸æ”¯æŒé€æ˜(å¤§éƒ¨åˆ†ä¸éœ€è¦é€æ˜å›¾ç‰‡çš„ä¸šåŠ¡åœºæ™¯)</li> <li>pngæ”¯æŒé€æ˜ï¼Œæµè§ˆå™¨å…¼å®¹å¥½(å¤§éƒ¨åˆ†éœ€è¦é€æ˜å›¾ç‰‡çš„ä¸šåŠ¡åœºæ™¯)</li> <li>webpå‹ç¼©ç¨‹åº¦æ›´å¥½ï¼Œåœ¨ios webviewæœ‰å…¼å®¹æ€§é—®é¢˜(å®‰å“å…¨éƒ¨)</li> <li>svgçŸ¢é‡å›¾ï¼Œä»£ç å†…åµŒï¼Œç›¸å¯¹è¾ƒå°ï¼Œå›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•çš„åœºæ™¯(å›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•)</li></ul> <h4 id="css-sprite-å’Œimage-inline"><a href="#css-sprite-å’Œimage-inline" aria-hidden="true" class="header-anchor">#</a> <code>css sprite</code> å’Œ<code>image inline</code></h4> <p>é›ªç¢§å›¾å¯ä»¥å‡å°‘httpè¯·æ±‚æ¬¡æ•°ï¼Œimage inlineå°å›¾ç‰‡ç›´æ¥å†…åµŒåˆ°htmlï¼Œbase64å³å¯;</p> <h4 id="çŸ¢é‡å›¾ï¼Œä½¿ç”¨svgï¼Œä½¿ç”¨iconfontè§£å†³iconé—®é¢˜"><a href="#çŸ¢é‡å›¾ï¼Œä½¿ç”¨svgï¼Œä½¿ç”¨iconfontè§£å†³iconé—®é¢˜" aria-hidden="true" class="header-anchor">#</a> çŸ¢é‡å›¾ï¼Œä½¿ç”¨svgï¼Œä½¿ç”¨<code>iconfont</code>è§£å†³<code>icon</code>é—®é¢˜</h4> <h4 id="æœ€åå°±æ˜¯å›¾ç‰‡çš„å‹ç¼©"><a href="#æœ€åå°±æ˜¯å›¾ç‰‡çš„å‹ç¼©" aria-hidden="true" class="header-anchor">#</a> æœ€åå°±æ˜¯å›¾ç‰‡çš„å‹ç¼©</h4> <p>ä¸å¤šè¯´ï¼Œnodejsç›¸å…³å·¥å…·è§£å†³ã€‚æ´»åŠ¨é¡µé¢å¯ä»¥ä½¿ç”¨<a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer">tinypngğŸš€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="cssã€jsçš„åŠ è½½ä¸æ‰§è¡Œ"><a href="#cssã€jsçš„åŠ è½½ä¸æ‰§è¡Œ" aria-hidden="true" class="header-anchor">#</a> cssã€jsçš„åŠ è½½ä¸æ‰§è¡Œ</h2> <p>çœ‹ä¸€å¼ æµè§ˆå™¨åŠ è½½æ¸²æŸ“çš„å›¾
<img src="/nicolas_blog/assets/img/html_render.1e08f9a1.png" alt="An image">
é¡ºåºå¦‚ä¸‹,æ‘˜è‡ªstackoverflow</p> <ul><li>The browser receives the <code>response</code>, and <code>parses</code> the HTML (which with 95% probability is broken) in the response</li> <li>A <code>DOM tree</code> is built out of the broken HTML</li> <li><code>New requests</code> are made to the server for each new resource that is found in the HTML source (typically images, style sheets, and JavaScript files).</li> <li>Go back to http request</li> <li><code>Stylesheets</code> are parsed, and the rendering information in each gets attached to the matching node in the DOM tree</li> <li><code>JavaScript</code> is parsed and executed, and DOM nodes are moved and style information is updated accordingly</li> <li>The browser <code>renders</code> the page on the screen according to the DOM tree and the style information for each node</li></ul> <h4 id="htmlæ¸²æŸ“çš„ç‰¹ç‚¹"><a href="#htmlæ¸²æŸ“çš„ç‰¹ç‚¹" aria-hidden="true" class="header-anchor">#</a> htmlæ¸²æŸ“çš„ç‰¹ç‚¹</h4> <ul><li><strong>é¡ºåºæ‰§è¡Œ</strong>,æ¯ä¸ªtagéƒ½è¦ä»ä¸Šåˆ°ä¸‹é¡ºåºè§£æã€‚å¹¶å‘åŠ è½½ï¼ˆæ‰€å¼•å…¥çš„å¤–éƒ¨èµ„æºï¼‰ï¼Œå› ä¸ºå•ä¸ªåŸŸåçš„å¹¶å‘è¯·æ±‚æœ‰é™ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨3-4ä¸ªcdnåŸŸå</li> <li><strong>æ˜¯å¦é˜»å¡</strong>,cssçš„åŠ è½½ä¸é˜»å¡å¤–éƒ¨è„šæœ¬çš„åŠ è½½ï¼Œä½†æ˜¯ä¼šé˜»å¡jsçš„æ‰§è¡Œï¼ˆæœ‰å¯èƒ½jsä¾èµ–csså±æ€§ï¼‰</li> <li><strong>ä¾èµ–å…³ç³»</strong>,é¡µé¢æ¸²æŸ“ä¾èµ–äºcssçš„åŠ è½½ï¼Œcssè¦æ”¾åœ¨headé‡Œ,jsçš„æ‰§è¡Œé¡ºåºçš„ä¾èµ–å…³ç³»,jsé€»è¾‘å¯¹äºdomèŠ‚ç‚¹çš„ä¾èµ–å…³ç³»</li> <li><strong>å¼•å…¥æ–¹å¼</strong>,linkå¼•å…¥cssï¼Œjsä¹Ÿæœ‰deferå’Œasync</li></ul> <h4 id="æ‡’åŠ è½½å’Œé¢„åŠ è½½"><a href="#æ‡’åŠ è½½å’Œé¢„åŠ è½½" aria-hidden="true" class="header-anchor">#</a> æ‡’åŠ è½½å’Œé¢„åŠ è½½</h4> <ul><li>æ‡’åŠ è½½æ— éå°±æ˜¯å¤§å¤šéƒ½æ˜¯å›¾ç‰‡ç›¸å…³ï¼Œå¹¶å‘åŠ è½½çš„å¤–éƒ¨èµ„æºè¿‡å¤šä¼šé˜»å¡jsçš„åŠ è½½ã€‚å›¾ç‰‡åº”è¯¥åœ¨è¿›å…¥å¯è§†åŒºåå†è¯·æ±‚ï¼Œlazyloadï¼Œè¿˜å¯ä»¥æå‰placeholderä¸€ä¸‹æ¯”å¦‚çŸ¥ä¹çš„æ‰‹æœºç«¯ï¼Œç±»ä¼¼è¿™ç§<a href="https://github.com/michalsnik/vue-content-placeholders" target="_blank" rel="noopener noreferrer">content-placeholders<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>é¢„åŠ è½½å’Œæ‡’åŠ è½½ç›¸åï¼Œæ˜¯å¯¹èµ„æºçš„æå‰è¯·æ±‚ï¼Œéœ€è¦åœ¨ç”¨æˆ·ç©ºé—²æ—¶è¿›è¡Œï¼ˆæ¯”å¦‚ç™»é™†é¡µå·å·çš„è¿›è¡Œï¼‰ï¼Œä¹Ÿå¯ä»¥ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚1ã€imgçš„display:noneä¸ä¼šå½±å“é¡µé¢çš„æ¸²æŸ“ï¼Œä½†æ˜¯ä¼šå‘é€è¯·æ±‚ï¼Œç­‰äºŒæ¬¡çš„æ—¶å€™ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–äº†ã€‚2ã€åœ¨jsä¸­ï¼Œnewä¸€ä¸ªImageå¯¹è±¡ï¼Œæ·»åŠ srcå³å¯ã€‚</li></ul> <h2 id="é‡ç»˜ä¸å›æµ"><a href="#é‡ç»˜ä¸å›æµ" aria-hidden="true" class="header-anchor">#</a> é‡ç»˜ä¸å›æµ <span class="badge tip top" data-v-099ab69c>0.10.1+</span></h2> <p>å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºï¼Œç§°ä¸ºå›æµã€‚å½“<code>render tree</code>ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚<code>background-color</code>ã€‚åˆ™å°±å«ç§°ä¸ºé‡ç»˜ã€‚UIè¿›ç¨‹å’ŒJSè¿›ç¨‹äº’ç›¸é˜»å¡ï¼Œè¿™å°±æ˜¯cssé˜»å¡jsçš„åŸå› ã€‚å› ä¸ºéƒ¨åˆ†cssä¼šå¯¼è‡´æµè§ˆå™¨çš„é‡ç»˜å’Œå›æµã€‚å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµã€‚</p> <h4 id="è§¦å‘é¡µé¢é‡å¸ƒå±€çš„å±æ€§ï¼Œå¤§å¤šstructure"><a href="#è§¦å‘é¡µé¢é‡å¸ƒå±€çš„å±æ€§ï¼Œå¤§å¤šstructure" aria-hidden="true" class="header-anchor">#</a> è§¦å‘é¡µé¢é‡å¸ƒå±€çš„å±æ€§ï¼Œå¤§å¤š<code>structure</code></h4> <div class="language-css extra-class"><pre class="language-css"><code>width  height padding margin display border-width border min-height
top bottom left right position float clear text-align overflow-y font-weight
overflow font-family line-height vertival-align white-space font-size
</code></pre></div><h4 id="åªè§¦å‘é‡ç»˜çš„å±æ€§-å¤§å¤šskin"><a href="#åªè§¦å‘é‡ç»˜çš„å±æ€§-å¤§å¤šskin" aria-hidden="true" class="header-anchor">#</a> åªè§¦å‘é‡ç»˜çš„å±æ€§,å¤§å¤š<code>skin</code></h4> <div class="language-css extra-class"><pre class="language-css"><code>color border-style border-radius visibility text-decoration background outline-color
outline outline-style outline-width box-shadow
</code></pre></div><h4 id="chromeåˆ›å»ºå›¾å±‚çš„æ¡ä»¶"><a href="#chromeåˆ›å»ºå›¾å±‚çš„æ¡ä»¶" aria-hidden="true" class="header-anchor">#</a> Chromeåˆ›å»ºå›¾å±‚çš„æ¡ä»¶</h4> <ul><li>3Dæˆ–é€è§†å˜æ¢ï¼ˆ<code>perspective transform</code>ï¼‰CSSå±æ€§</li> <li>ä½¿ç”¨åŠ é€Ÿè§†é¢‘è§£ç çš„<code>video</code>èŠ‚ç‚¹</li> <li>æ‹¥æœ‰3Dï¼ˆ<code>WebGL</code>ï¼‰ä¸Šä¸‹æ–‡æˆ–åŠ é€Ÿçš„2Dä¸Šä¸‹æ–‡çš„<code>canvas</code>èŠ‚ç‚¹</li> <li>æ··åˆæ’ä»¶ï¼ˆå¦‚<code>Flash</code>ï¼‰</li> <li>å¯¹è‡ªå·±çš„<code>opacity</code>åšCSSåŠ¨ç”»æˆ–ä½¿ç”¨ä¸€ä¸ªåŠ¨ç”»<code>webkit</code>å˜æ¢çš„å…ƒç´ </li> <li>æ‹¥æœ‰åŠ é€ŸCSSè¿‡æ»¤å™¨çš„å…ƒç´ </li> <li>å…ƒç´ æœ‰ä¸€ä¸ªåŒ…å«å¤åˆå±‚çš„åä»£èŠ‚ç‚¹ï¼ˆä¸€ä¸ªå…ƒç´ æ‹¥æœ‰ä¸€ä¸ªå­å…ƒç´ ï¼Œè¯¥å­å…ƒç´ åœ¨è‡ªå·±çš„å±‚é‡Œï¼‰</li> <li>å…ƒç´ æœ‰ä¸€ä¸ª<code>z-index</code>è¾ƒä½ä¸”åŒ…å«ä¸€ä¸ªå¤åˆå±‚çš„å…„å¼Ÿå…ƒç´ ï¼ˆæ¢å¥è¯è¯´å°±æ˜¯è¯¥å…ƒç´ åœ¨å¤åˆå±‚ä¸Šé¢æ¸²æŸ“ï¼‰</li></ul> <p>åœ¨chromeå·¥å…·æ çš„layerå¯ä»¥çœ‹</p> <h4 id="å®æˆ˜ä¼˜åŒ–"><a href="#å®æˆ˜ä¼˜åŒ–" aria-hidden="true" class="header-anchor">#</a> å®æˆ˜ä¼˜åŒ–</h4> <ul><li>ç”¨<code>translate</code>æ›¿ä»£<code>top</code>æ”¹å˜,å› ä¸ºtopä¼šè§¦å‘Reflow</li> <li>ç”¨<code>opacity</code>æ›¿ä»£<code>visibility</code></li> <li>ä¸è¦ä¸€æ¡ä¸€æ¡åœ°ä¿®æ”¹ DOM çš„æ ·å¼ï¼Œé¢„å…ˆå®šä¹‰å¥½ classï¼Œç„¶åä¿®æ”¹ DOM çš„Â <code>className</code></li> <li>æŠŠ DOM ç¦»çº¿åä¿®æ”¹ï¼Œæ¯”å¦‚ï¼šå…ˆæŠŠ DOM ç»™Â <code>display:none</code>(æœ‰ä¸€æ¬¡ Reflow)ï¼Œç„¶åä½ ä¿®æ”¹Næ¬¡ï¼Œç„¶åå†æŠŠå®ƒæ˜¾ç¤ºå‡ºæ¥,ä¸ç„¶ä¼šå¤šæ¬¡é‡ç»˜</li> <li>ä¸è¦æŠŠ DOM ç»“ç‚¹çš„å±æ€§å€¼æ”¾åœ¨ä¸€ä¸ªå¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡</li> <li>ä¸è¦ä½¿ç”¨Â <code>table</code>Â å¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª <code>table</code> çš„é‡æ–°å¸ƒå±€</li> <li>åŠ¨ç”»å®ç°çš„é€Ÿåº¦çš„é€‰æ‹©</li> <li>å¯¹äºåŠ¨ç”»æ–°å»ºå›¾å±‚,åŠ¨ç”»ä¼šè§¦å‘å›æµï¼Œç”¨æ–°å›¾å±‚è¾ƒå¥½</li> <li>å¯ç”¨ <code>GPU</code> ç¡¬ä»¶åŠ é€Ÿ</li></ul> <p><strong>ä»¥ä¸‹æ‘˜æŠ„è‡ªå›½å¤–æŸè®ºå›</strong></p> <ul><li>Whenever possible, avoid changing anyformatting after the initial page load.</li> <li>Whenever possible, use static CSS instead of dynamic CSS.</li> <li>Donâ€™t include CSS rules in the HTTP reply stream if they are not used on the page.</li> <li>Use fixed or absolute positioning as much as possible, especially for animations.</li> <li>Avoid using HTML tables for layout.</li> <li>In animations, reduce the frames per second as much as possible.</li> <li>Avoid asking for layout information. If you must, cache the value rather than asking a second time.</li> <li>Batch DOM changes and apply them all at once.</li> <li>Make changes as low in the DOM tree as possible.</li> <li>Keep in mind that HTMLCollection objects rerun a query every time you access them. Whenever possible, cache the HTMLCollection in an array for future use.</li> <li>Page zoom affects layout performance. Depending on the browser, resizing the window may also affect layout performance.</li> <li>Use as few CSS selectors as you can.</li> <li>Avoid universal and multi-class CSS selectors.</li> <li>Beware the performance of pseudoselectors.</li> <li>Avoid setting multiple inline styles.</li> <li>Change class names instead of styles.</li> <li>Avoid dynamic styles, but if you must use them, change the cssText property instead of the elementâ€™s style property.</li> <li>The border-radiusCSS property may be affecting repaint performance more than you think.</li> <li>In Internet Explorer, do not use JavaScript expressions within CSS.</li></ul> <p>æŸ¥è¯¢ç½‘å€<a href="https://csstriggers.com/" target="_blank" rel="noopener noreferrer">csstriggersğŸš€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å‚è€ƒæ–‡æ¡£<a href="http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/" target="_blank" rel="noopener noreferrer">REFLOWS &amp; REPAINTS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="æµè§ˆå™¨å­˜å‚¨"><a href="#æµè§ˆå™¨å­˜å‚¨" aria-hidden="true" class="header-anchor">#</a> æµè§ˆå™¨å­˜å‚¨</h2> <h4 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> Cookie</h4> <p>å› ä¸ºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥cookieè¯ç”Ÿäº†ï¼Œcookieæ˜¯è¯†åˆ«å®¢æˆ·ç«¯çš„ä¸€ä¸ªæ ‡è¯†ã€‚cookieçš„ç”Ÿæˆæ–¹å¼ï¼Œæ˜¯<code>http response header</code>ä¸­è¿”å›äº†<code>set-cookie</code>ï¼ŒæœåŠ¡ç«¯ç”Ÿæˆï¼Œå®¢æˆ·ç«¯ç»´æŠ¤ï¼Œè¿˜å¯ä»¥é€šè¿‡jså†™å…¥,ä½†é‚£åªæ˜¯éhttponlyçš„cookieã€‚å…³äºcookieçš„ä¼˜åŒ–ï¼Œcookieéƒ½ä¼šè¢«ç§åœ¨<code>domain</code>ä¸‹ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½éœ€è¦cookieï¼Œæ¯”å¦‚cdnçš„åŸŸåå’Œä¸»åŸŸåè¦åˆ†å¼€ï¼Œå› ä¸ºé™æ€æ–‡ä»¶ä¸éœ€è¦cookieã€‚</p> <p><strong>å¦‚å›¾æ‰€ç¤ºcookieéƒ½è¢«ç§åœ¨äº†domainä¸‹:</strong></p> <p><img src="/nicolas_blog/assets/img/cookie_http.cdb130e6.png" alt="An image">
ä¸Šå›¾HTTPæ‰“å‹¾å¯¹æ„æ€å°±æ˜¯HTTPONLYçš„ï¼Œä¸å…è®¸jsä¿®æ”¹ã€‚</p> <h4 id="localstorage-sessionstorage-indexeddb"><a href="#localstorage-sessionstorage-indexeddb" aria-hidden="true" class="header-anchor">#</a> localStorage, SessionStorage, IndexedDB</h4> <p>è¿™ä¿©è®¾è®¡å‡ºæ¥å°±æ˜¯åšæµè§ˆå™¨æœ¬åœ°å­˜å‚¨çš„ã€‚å…·æœ‰ä¸é”™çš„apiå°è£…ï¼Œä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ã€‚</p> <p>å®æˆ˜ä¸­ï¼Œå¯ä»¥å…ˆä»æœ¬åœ°è¯»å–ï¼Œåç»­apiè¯·æ±‚ç»“æŸä¹‹åå†æ›´æ–°å®ƒï¼Œç”¨æˆ·ä¸ä¼šæ„Ÿè§‰åˆ°ä»€ä¹ˆã€‚<code>sessionStorage</code>å¯ä»¥ç”¨ä½œè¡¨å•çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚ï¼šç¬¬ä¸€é¡µçš„å¡«å†™åˆ°ç¬¬äºŒé¡µçš„å¡«å†™ï¼Œç„¶åç”¨æˆ·backäº†ï¼Œæˆ–è€…æ˜¯ç”¨æˆ·çªç„¶åˆ·æ–°äº†ã€‚</p> <p>ä»¥ä¸Šä¸¤ç§å¯¹ç»“æ„åŒ–æ•°æ®æ¥è¯´ä¸å¤ªæœ‰ç”¨ï¼Œæ–°å‡ºäº†IndexedDBï¼Œç›®å‰ç”¨çš„ä¸å¤š</p> <h2 id="service-worker"><a href="#service-worker" aria-hidden="true" class="header-anchor">#</a> service worker <span class="badge warning top" data-v-099ab69c>0.10.1+</span></h2> <p>è¿™æ˜¯ä¸€é—¨å­¦é—®ï¼Œæš‚æ—¶ä¸ä¼šï¼Œä¸å¤šè¯´ã€‚</p> <h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" aria-hidden="true" class="header-anchor">#</a> ç¼“å­˜</h2> <p><strong>çœ‹ä¸€ä¸‹æ·˜å®é¦–é¡µçš„Network</strong>:</p> <p><img src="/nicolas_blog/assets/img/cache_example.b3a6283d.png" alt="An image">
æ§åˆ¶ç¼“å­˜ç­–ç•¥çš„æœºåˆ¶ï¼Œcache-control,å®ƒå¯ä»¥å­˜åœ¨request headerä¸­ä¹Ÿå¯ä»¥å­˜åœ¨response headerä¸­ã€‚
åˆ†ä¸º</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//è¿™æ®µæ—¶é—´è¦ç”¨ç¼“å­˜ï¼Œä¸ä¼šå†å‘è¯·æ±‚,å®ƒä¼˜å…ˆçº§å¤§äºexpireï¼Œstatusä¸º304</span>
cache<span class="token operator">-</span>control<span class="token punctuation">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">63072000</span> 
<span class="token comment">//ç¼“å­˜åˆ†ä¸º publicå’Œprivateï¼Œæ¯”å¦‚cdnä½œä¸ºä¸­é—´æœåŠ¡å™¨æ˜¯public</span>
<span class="token comment">//s-maxageæ˜¯publicçš„ç¼“å­˜</span>
<span class="token comment">//s-maxageä¼˜å…ˆçº§å¤§äºmax-age</span>
cache<span class="token operator">-</span>control<span class="token punctuation">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">2592000</span><span class="token punctuation">,</span>s<span class="token operator">-</span>maxage<span class="token operator">=</span><span class="token number">3600</span>
<span class="token comment">//no-cacheæ˜¯å‘è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œç„¶åå†æ ¹æ®è¿”å›æ¯”å¦‚lastModifiedï¼Œno-storeæ˜¯ä¸ç”¨ç¼“å­˜</span>
cache<span class="token operator">-</span>control<span class="token punctuation">:</span><span class="token keyword">private</span><span class="token punctuation">,</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> no<span class="token operator">-</span>cache
<span class="token comment">//æ ¹æ®last-modifiedå’Œif-modifiedæ¥åˆ¤æ–­ æ˜¯å¦éœ€è¦æ›´æ–°ç¼“å­˜,ç›¸æ¯”è¾ƒæ¥çœ‹ï¼ŒETagçš„å“ˆå¸Œå€¼æœ€ä½³ï¼Œå› ä¸ºæœåŠ¡å™¨çš„æ—¶é—´æœ‰å¯èƒ½ä¸å‡†</span>
last<span class="token operator">-</span>modified<span class="token punctuation">:</span> Wed<span class="token punctuation">,</span> <span class="token number">05</span> Jul <span class="token number">2017</span> <span class="token number">07</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">08</span> <span class="token constant">GMT</span>
</code></pre></div><h2 id="ssr"><a href="#ssr" aria-hidden="true" class="header-anchor">#</a> SSR</h2> <p>ä»¥<a href="https://ssr.vuejs.org/" target="_blank" rel="noopener noreferrer">vue-ssr<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä¸ºä¾‹.éšæ„æ‰“å¼€ä¸€ä¸ªSPAçš„vueç½‘ç«™ï¼Œæ¸…é™¤ç¼“å­˜åï¼Œç”¨<code>performance</code>åˆ·æ–°å‘ç°ï¼Œå¾ˆå¤§çš„æ—¶é—´éƒ½åœ¨åŠ è½½jsï¼Œåˆ©ç”¨å®¢æˆ·ç«¯çš„è¿ç®—èƒ½åŠ›ï¼ŒåŠ è½½å’Œæ‰§è¡Œvue.jsç›¸å…³ä»£ç ï¼Œè€Œssræ˜¯åˆ©ç”¨äº†æœåŠ¡ç«¯çš„è¿ç®—èƒ½åŠ›ã€‚æœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ¸²æŸ“è¦æ³¨æ„å¹³è¡¡ï¼Œå“ªä¸€å—ç”¨SSRï¼Œå“ªä¸€å—ç”¨Client</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">9/5/2018, 4:31:10 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/nicolas_blog/blogs/" class="prev router-link-active">
          Vue Pluginå®æˆ˜
        </a></span> <span class="next"><a href="/nicolas_blog/blogs/issues.html">
          é‡åˆ°è¿‡çš„Issue
        </a>
        â†’
      </span></p></div> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></div> <!----></div></div>
    <script src="/nicolas_blog/assets/js/21.d6e364bc.js" defer></script><script src="/nicolas_blog/assets/js/3.beca16df.js" defer></script><script src="/nicolas_blog/assets/js/app.8757db7b.js" defer></script>
  </body>
</html>
